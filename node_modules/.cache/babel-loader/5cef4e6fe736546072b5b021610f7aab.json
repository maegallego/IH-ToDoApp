{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, vModelSelect as _vModelSelect, vModelCheckbox as _vModelCheckbox, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"margin\"\n};\nconst _hoisted_2 = {\n  class: \"addtask-container purple-shadow centered-div\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Edit your task.\", -1);\n\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = {\n  class: \"align-left\"\n};\nconst _hoisted_6 = {\n  for: \"titleTask\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"Title \");\n\nconst _hoisted_8 = [\"placeholder\"];\n\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\" Description \");\n\nconst _hoisted_10 = [\"placeholder\"];\n\nconst _hoisted_11 = /*#__PURE__*/_createTextVNode(\" Select priority: \");\n\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1);\n\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"Low\",\n  selected: \"\"\n}, \"Low\", -1);\n\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"Medium\"\n}, \"Medium\", -1);\n\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"High\"\n}, \"High\", -1);\n\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"Urgent\"\n}, \"Urgent\", -1);\n\nconst _hoisted_17 = [_hoisted_13, _hoisted_14, _hoisted_15, _hoisted_16];\nconst _hoisted_18 = {\n  for: \"is_complete\"\n};\n\nconst _hoisted_19 = /*#__PURE__*/_createTextVNode(\"Task completed \");\n\nconst _hoisted_20 = {\n  class: \"two-btn-right\"\n};\n\nconst _hoisted_21 = /*#__PURE__*/_createTextVNode(\"Cancel\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, $data.task ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"form\", _hoisted_5, [_createElementVNode(\"div\", null, [_createElementVNode(\"label\", _hoisted_6, [_hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n    class: \"full-width form-input\",\n    name: \"titleTask\",\n    type: \"text\",\n    placeholder: $data.task.title,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.titleTask = $event)\n  }, null, 8, _hoisted_8), [[_vModelText, $data.titleTask]])])]), _createElementVNode(\"div\", null, [_hoisted_9, _withDirectives(_createElementVNode(\"textarea\", {\n    class: \"full-width form-input\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.description = $event),\n    placeholder: $data.task.description\n  }, \"\\n            \", 8, _hoisted_10), [[_vModelText, $data.description]])]), _createElementVNode(\"div\", null, [_hoisted_11, _hoisted_12, _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.priority = $event)\n  }, _hoisted_17, 512), [[_vModelSelect, $data.priority]])]), _createElementVNode(\"label\", _hoisted_18, [_hoisted_19, _withDirectives(_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    id: \"checkbox\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.is_complete = $event),\n    \"true-value\": \"true\",\n    \"false-value\": \"false\"\n  }, null, 512), [[_vModelCheckbox, $data.is_complete]])]), _createElementVNode(\"div\", _hoisted_20, [_createVNode(_component_router_link, {\n    class: \"transparent-btn\",\n    to: \"/\"\n  }, {\n    default: _withCtx(() => [_hoisted_21]),\n    _: 1\n  }), _createElementVNode(\"button\", {\n    class: \"transparent-btn bg-purple\",\n    onClick: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.handleUpdate && $options.handleUpdate(...args), [\"prevent\"]))\n  }, \" Update \"), _createTextVNode(\" \" + _toDisplayString(_ctx.errorMessage), 1)])])])) : _createCommentVNode(\"\", true)])]);\n}","map":{"version":3,"mappings":";;EACOA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;gCACTC,oBAAwB,IAAxB,EAAwB,IAAxB,EAAI,iBAAJ,EAAmB,EAAnB;;;;;;EAEQD,KAAK,EAAC;;;EAEDE,GAAG,EAAC;;;iDACR;;;;iDAUA;;;;kDASA;;iCAEHD,oBAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM,EAAN;;iCAEEA,oBAAyC,QAAzC,EAAyC;EAAjCE,KAAK,EAAC,KAA2B;EAArBC,QAAQ,EAAR;AAAqB,CAAzC,EAA6B,KAA7B,EAAgC,EAAhC;;iCACAH,oBAAsC,QAAtC,EAAsC;EAA9BE,KAAK,EAAC;AAAwB,CAAtC,EAAuB,QAAvB,EAA6B,EAA7B;;iCACAF,oBAAkC,QAAlC,EAAkC;EAA1BE,KAAK,EAAC;AAAoB,CAAlC,EAAqB,MAArB,EAAyB,EAAzB;;iCACAF,oBAAsC,QAAtC,EAAsC;EAA9BE,KAAK,EAAC;AAAwB,CAAtC,EAAuB,QAAvB,EAA6B,EAA7B;;qBAHAE,aACAC,aACAC,aACAC;;EAGGN,GAAG,EAAC;;;kDACR;;;EAIEF,KAAK,EAAC;;;kDAER;;;;;uBA3CXS,oBAwDM,KAxDN,cAwDM,CAvDJR,oBAsDM,KAtDN,cAsDM,CArDJS,UAqDI,EApDOC,4BAAXF,oBAmDM,KAnDN,EAmDMG,UAnDN,EAmDM,CAlDJX,oBAiDO,MAjDP,cAiDO,CAhDLA,oBAWM,KAXN,EAWM,IAXN,EAWM,CAVJA,oBASQ,OATR,cASQ,6BAPNA,oBAME,OANF,EAME;IALAD,KAAK,EAAC,uBAKN;IAJAa,IAAI,EAAC,WAIL;IAHAC,IAAI,EAAC,MAGL;IAFCC,WAAW,EAAEJ,WAAKK,KAEnB;+DADSL,kBAASM;EAClB,CANF,uCAKWN,kBAEL,CATR,CAUI,CAXN,CAgDK,EApCLV,oBAQM,KARN,EAQM,IARN,EAQM,6BANJA,oBAKW,UALX,EAKW;IAJTD,KAAK,EAAC,uBAIG;+DAHAW,oBAAWM,OAGX;IAFRF,WAAW,EAAEJ,WAAKO;EAEV,CALX,EAIC,gBAJD,EAKA,CALA,EAKAC,WALA,GAKA,eAHWR,kBAGX,EACI,CARN,CAoCK,EA3BLV,oBASM,KATN,EASM,IATN,EASM,cAPJmB,WAOI,kBANJnB,oBAKS,QALT,EAKS;+DALQU,iBAAQM;EAKhB,CALT,sCAAiBN,iBAMb,CATN,CA2BK,EAjBLV,oBAIQ,OAJR,eAIQ,8BAFNA,oBACuC,OADvC,EACuC;IADhCa,IAAI,EAAC,UAC2B;IADhBO,EAAE,EAAC,UACa;+DADOV,oBAAWM,OAClB;IAAvC,cAAW,MAA4B;IAArB,eAAY;EAAS,CADvC,iCAA8CN,oBAExC,CAJR,CAiBK,EAZLV,oBAWM,KAXN,eAWM,CAVJqB,aAECC,sBAFD,EAEC;IAFYvB,KAAK,EAAC,iBAElB;IAFoCwB,EAAE,EAAC;EAEvC,CAFD;sBACC,MAAM;;GADP,CAUI,EAPJvB,oBAKS,QALT,EAKS;IAJPD,KAAK,EAAC,2BAIC;IAHNyB,OAAK,wDAAUC,uDAAV,EAAsB,WAAtB;EAGC,CALT,EAGC,UAHD,CAOI,mBAFK,MACTC,iBAAEC,iBAAF,GAAc,EACV,CAXN,CAYK,CAjDP,CAkDI,CAnDN,kCAoDI,CAtDN,CAuDI,CAxDN","names":["class","_createElementVNode","for","value","selected","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_createElementBlock","_hoisted_3","$data","_hoisted_4","name","type","placeholder","title","$event","description","_hoisted_10","_hoisted_12","id","_createVNode","_component_router_link","to","onClick","$options","_toDisplayString","_ctx"],"sourceRoot":"","sources":["/Users/maegallego/Desktop/IRONHACK/clonedproject/ToDoApp/to-do-list/src/views/EditTask.vue"],"sourcesContent":["<template>\n  <div class='margin'>\n    <div class='addtask-container purple-shadow centered-div'>\n      <h1>Edit your task.</h1>\n      <div v-if='task'>\n        <form class='align-left'>\n          <div>\n            <label for='titleTask'\n              >Title\n              <input\n                class='full-width form-input'\n                name='titleTask'\n                type='text'\n                :placeholder='task.title'\n                v-model='titleTask'\n              />\n            </label>\n          </div>\n          <div>\n            Description\n            <textarea\n              class='full-width form-input'\n              v-model='description'\n              :placeholder='task.description'\n            >\n            </textarea>\n          </div>\n          <div>\n            Select priority:\n            <br />\n            <select v-model='priority'>\n              <option value='Low' selected>Low</option>\n              <option value='Medium'>Medium</option>\n              <option value='High'>High</option>\n              <option value='Urgent'>Urgent</option>\n            </select>\n          </div>\n          <label for='is_complete'\n            >Task completed\n            <input type='checkbox' id='checkbox' v-model='is_complete'\n            true-value=\"true\" false-value=\"false\"/>\n          </label>\n          <div class='two-btn-right'>\n            <router-link class='transparent-btn' to='/'\n            >Cancel</router-link\n            >\n            <button\n              class='transparent-btn bg-purple'\n              @click.prevent='handleUpdate'\n            >\n              Update\n            </button>\n            {{errorMessage}}\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport supabase from '../supabase';\n\nexport default {\n  data() {\n    return {\n      task: null,\n      titleTask: '',\n      priority: '',\n      description: '',\n      is_complete: null,\n      id: null,\n    };\n  },\n  async created() {\n    this.id = this.$route.params.taskId;\n    const {\n      data: [currentTask],\n    } = await supabase.from('tasks').select('*').match({ id: this.id });\n    this.task = currentTask;\n  },\n  methods: {\n    async handleUpdate() {\n      try {\n        if (this.titleTask) this.task.title = this.titleTask;\n        if (this.priority) this.task.priority = this.priority;\n        if (this.description) this.task.description = this.description;\n        if (this.is_complete) this.task.is_complete = this.is_complete;\n        await supabase\n          .from('tasks')\n          .update({ ...this.task })\n          .match({ id: this.id });\n        this.$router.push({ path: `/#${this.task.id}` });\n      } catch (error) {\n        this.errorMessage = error.message;\n      }\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}