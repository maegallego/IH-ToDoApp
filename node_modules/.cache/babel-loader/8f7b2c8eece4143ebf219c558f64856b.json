{"ast":null,"code":"import _objectSpread from \"/Users/maegallego/Desktop/IRONHACK/NewRepoTodoapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _regeneratorRuntime from \"/Users/maegallego/Desktop/IRONHACK/NewRepoTodoapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _slicedToArray from \"/Users/maegallego/Desktop/IRONHACK/NewRepoTodoapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _asyncToGenerator from \"/Users/maegallego/Desktop/IRONHACK/NewRepoTodoapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.match.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport supabase from '../supabase';\nexport default {\n  data: function data() {\n    return {\n      task: null,\n      titleTask: '',\n      priority: '',\n      description: '',\n      is_complete: null,\n      id: null\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var _yield$supabase$from$, _yield$supabase$from$2, currentTask;\n\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.id = _this.$route.params.taskId;\n              _context.next = 3;\n              return supabase.from('tasks').select('*').match({\n                id: _this.id\n              });\n\n            case 3:\n              _yield$supabase$from$ = _context.sent;\n              _yield$supabase$from$2 = _slicedToArray(_yield$supabase$from$.data, 1);\n              currentTask = _yield$supabase$from$2[0];\n              _this.task = currentTask;\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  methods: {\n    handleUpdate: function handleUpdate() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                if (_this2.titleTask) _this2.task.title = _this2.titleTask;\n                if (_this2.priority) _this2.task.priority = _this2.priority;\n                if (_this2.description) _this2.task.description = _this2.description;\n                if (_this2.is_complete) _this2.task.is_complete = _this2.is_complete;\n                _context2.next = 7;\n                return supabase.from('tasks').update(_objectSpread({}, _this2.task)).match({\n                  id: _this2.id\n                });\n\n              case 7:\n                _this2.$router.push({\n                  path: \"/#\".concat(_this2.task.id)\n                });\n\n                _context2.next = 13;\n                break;\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2[\"catch\"](0);\n                _this2.errorMessage = _context2.t0.message;\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 10]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;AA6DA,OAAOA,QAAP,MAAqB,aAArB;AAEA,eAAe;EACbC,IADa,kBACN;IACL,OAAO;MACLC,IAAI,EAAE,IADD;MAELC,SAAS,EAAE,EAFN;MAGLC,QAAQ,EAAE,EAHL;MAILC,WAAW,EAAE,EAJR;MAKLC,WAAW,EAAE,IALR;MAMLC,EAAE,EAAE;IANC,CAAP;EAQD,CAVY;EAWPC,OAXO,qBAWG;IAAA;;IAAA;MAAA;;MAAA;QAAA;UAAA;YAAA;cACd,KAAI,CAACD,EAAL,GAAU,KAAI,CAACE,MAAL,CAAYC,MAAZ,CAAmBC,MAA7B;cADc;cAAA,OAIJX,QAAQ,CAACY,IAAT,CAAc,OAAd,EAAuBC,MAAvB,CAA8B,GAA9B,EAAmCC,KAAnC,CAAyC;gBAAEP,EAAE,EAAE,KAAI,CAACA;cAAX,CAAzC,CAJI;;YAAA;cAAA;cAAA,8DAGZN,IAHY;cAGLc,WAHK;cAKd,KAAI,CAACb,IAAL,GAAYa,WAAZ;;YALc;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAMf,CAjBY;EAkBbC,OAAO,EAAE;IACDC,YADC,0BACc;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEjB,IAAI,MAAI,CAACd,SAAT,EAAoB,MAAI,CAACD,IAAL,CAAUgB,KAAV,GAAkB,MAAI,CAACf,SAAvB;gBACpB,IAAI,MAAI,CAACC,QAAT,EAAmB,MAAI,CAACF,IAAL,CAAUE,QAAV,GAAqB,MAAI,CAACA,QAA1B;gBACnB,IAAI,MAAI,CAACC,WAAT,EAAsB,MAAI,CAACH,IAAL,CAAUG,WAAV,GAAwB,MAAI,CAACA,WAA7B;gBACtB,IAAI,MAAI,CAACC,WAAT,EAAsB,MAAI,CAACJ,IAAL,CAAUI,WAAV,GAAwB,MAAI,CAACA,WAA7B;gBALL;gBAAA,OAMXN,QAAO,CACVY,IADG,CACE,OADF,EAEHO,MAFG,mBAES,MAAI,CAACjB,IAFd,GAGHY,KAHG,CAGG;kBAAEP,EAAE,EAAE,MAAI,CAACA;gBAAX,CAHH,CANW;;cAAA;gBAUjB,MAAI,CAACa,OAAL,CAAaC,IAAb,CAAkB;kBAAEC,IAAI,cAAO,MAAI,CAACpB,IAAL,CAAUK,EAAjB;gBAAN,CAAlB;;gBAViB;gBAAA;;cAAA;gBAAA;gBAAA;gBAYjB,MAAI,CAACgB,YAAL,GAAoB,aAAMC,OAA1B;;cAZiB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAcpB;EAfM;AAlBI,CAAf","names":["supabase","data","task","titleTask","priority","description","is_complete","id","created","$route","params","taskId","from","select","match","currentTask","methods","handleUpdate","title","update","$router","push","path","errorMessage","message"],"sourceRoot":"","sources":["/Users/maegallego/Desktop/IRONHACK/NewRepoTodoapp/src/views/EditTask.vue"],"sourcesContent":["<template>\n  <div class='margin'>\n    <div class='addtask-container purple-shadow centered-div'>\n      <h1>Edit your task.</h1>\n      <div v-if='task'>\n        <form class='align-left'>\n          <div>\n            <label for='titleTask'\n              >Title\n              <input\n                class='full-width form-input'\n                name='titleTask'\n                type='text'\n                :placeholder='task.title'\n                v-model='titleTask'\n              />\n            </label>\n          </div>\n          <div>\n            Description\n            <textarea\n              class='full-width form-input'\n              v-model='description'\n              :placeholder='task.description'\n            >\n            </textarea>\n          </div>\n          <div>\n            Select priority:\n            <br />\n            <select v-model='priority'>\n              <option value='Low' selected>Low</option>\n              <option value='Medium'>Medium</option>\n              <option value='High'>High</option>\n              <option value='Urgent'>Urgent</option>\n            </select>\n          </div>\n          <label for='is_complete'\n            >Task completed\n            <input type='checkbox' id='checkbox' v-model='is_complete'\n            true-value=\"true\" false-value=\"false\"/>\n          </label>\n          <div class='two-btn-right'>\n            <router-link class='transparent-btn' to='/'\n            >Cancel</router-link\n            >\n            <button\n              class='transparent-btn bg-purple'\n              @click.prevent='handleUpdate'\n            >\n              Update\n            </button>\n            {{errorMessage}}\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport supabase from '../supabase';\n\nexport default {\n  data() {\n    return {\n      task: null,\n      titleTask: '',\n      priority: '',\n      description: '',\n      is_complete: null,\n      id: null,\n    };\n  },\n  async created() {\n    this.id = this.$route.params.taskId;\n    const {\n      data: [currentTask],\n    } = await supabase.from('tasks').select('*').match({ id: this.id });\n    this.task = currentTask;\n  },\n  methods: {\n    async handleUpdate() {\n      try {\n        if (this.titleTask) this.task.title = this.titleTask;\n        if (this.priority) this.task.priority = this.priority;\n        if (this.description) this.task.description = this.description;\n        if (this.is_complete) this.task.is_complete = this.is_complete;\n        await supabase\n          .from('tasks')\n          .update({ ...this.task })\n          .match({ id: this.id });\n        this.$router.push({ path: `/#${this.task.id}` });\n      } catch (error) {\n        this.errorMessage = error.message;\n      }\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}